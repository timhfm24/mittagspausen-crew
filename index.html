<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>EP Mittagspausen Crew</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f7f7f7;
      text-align: center;
      padding: 2rem;
    }
    button {
      margin: 1rem;
      padding: 1rem 2rem;
      font-size: 1.2rem;
      border-radius: 10px;
      border: none;
      cursor: pointer;
    }
    #chosen {
      font-size: 2rem;
      margin-top: 2rem;
      font-weight: bold;
    }
    .restaurant-img {
      width: 200px; /* Setze hier die gew√ºnschte Breite f√ºr die Bilder */
      margin-top: 1rem;
      border-radius: 10px;
    }
  </style>
</head>
<body>
  <h1>üçΩÔ∏è EP Mittagspausen Crew</h1>
  <p>Klicke, um ein zuf√§lliges Restaurant auszuw√§hlen (mit 14-Tage-Abstand).</p>
  <button onclick="chooseRestaurant()">Restaurant w√§hlen</button>
  <button class="secondary" onclick="resetHistory()">Z√§hler zur√ºcksetzen</button>
  <div id="chosen"></div>

  <div id="restaurant-img"></div>

  <script>
    const restaurants = [
      { name: "Nem & More", img: "URL_ZUM_BILD" },
      { name: "La Pho", img: "URL_ZUM_BILD" },
      { name: "Chicken Box D√∂ner", img: "URL_ZUM_BILD" },
      { name: "Pizza Gondel", img: "URL_ZUM_BILD" },
      { name: "Don Sushi", img: "URL_ZUM_BILD" },
      { name: "Burgers Burgers", img: "URL_ZUM_BILD" },
      { name: "Babil Shawarma", img: "URL_ZUM_BILD" },
      { name: "Mittmanns", img: "URL_ZUM_BILD" }
      { name: "Gondel", img: "https://github.com/timhfm24/mittagspausen-crew/blob/main/gondel.jpg?raw=true" }
    ];
    const MIN_DAYS = 14;

    function getHistory() {
      return JSON.parse(localStorage.getItem("visitHistory") || "{}");
    }

    function saveVisit(name) {
      const history = getHistory();
      history[name] = new Date().toISOString();
      localStorage.setItem("visitHistory", JSON.stringify(history));
    }

    function daysSince(dateStr) {
      const past = new Date(dateStr);
      const now = new Date();
      const diff = (now - past) / (1000 * 60 * 60 * 24);
      return Math.floor(diff);
    }

    function chooseRestaurant() {
      const history = getHistory();
      const eligible = restaurants.filter(r =>
        !history[r.name] || daysSince(history[r.name]) >= MIN_DAYS
      );

      if (eligible.length === 0) {
        document.getElementById("chosen").textContent = "‚ùå Kein Restaurant erf√ºllt den 14-Tage-Abstand.";
        return;
      }

      const chosen = eligible[Math.floor(Math.random() * eligible.length)];
      saveVisit(chosen.name);
      document.getElementById("chosen").textContent = `‚úÖ Heute geht's zu: ${chosen.name}`;

      // F√ºge das Bild des gew√§hlten Restaurants hinzu
      document.getElementById("restaurant-img").innerHTML = `<img src="${chosen.img}" alt="${chosen.name}" class="restaurant-img">`;
    }

    function resetHistory() {
      localStorage.clear();
      alert("Der Z√§hler wurde zur√ºckgesetzt!");
      location.reload();
    }
  </script>
</body>
</html>
